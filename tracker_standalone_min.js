!function(n,s){var t=function(){this.cm=!0,this.pageName,this.pathNameV=n.location.pathname,this.pathNameVF=this.pathNameV.replace("/",":"),this.pathNameE=encodeURIComponent(n.location.pathname),this.pageTitle=encodeURIComponent(s.title),this.ePath=this.pathNameV.split("/").pop(),this.ePathE=encodeURIComponent(this.ePath),this.referrer=s.referrer,this.referrerE=encodeURIComponent(this.referrer),this.domain=n.location.hostname,this.pDomain=this.domain.replace("www.","."),this.rDomain=this.domain.replace("www.",""),this.lHref=n.location.href,this.dc=!0,this.fVtracked=!1,this.visitId,this.sTime,this.lTime,this.tTime=!1,this.hn=n.location.hostname,this.chn=this.hn.replace("www",""),this.ttid=0,this.aMaxLenghtC=80,this.eTextLenght=105,this.lMaxLenghtC=80,this.pnMaxLength=110,this.referrerMaxLength=110,this.optOut=!1,this.coptOut=!1,this.protocol="https://",this.eType="mousedown","ontouchstart"in s.documentElement==!0&&(this.eType="touchstart"),this.eSelector="a[href]","localhost"==this.hn?(this.serverDomain="localhost",this.serverPort=":1337"):(this.serverDomain="ttanalytics.azurewebsites.net",this.serverPort=""),this.md=1,this.bust=!0,this.autotagging=!0,this.pageNameF=function(){var t=n.location.pathname;if(t){if("/"!==t&&"/"===t.charAt(0)){var e=t.length;t=t.substring(1,e)}return t.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/gi,":").toLowerCase()}},this.readElementText=function(t){if(t.textContent){var e=t.textContent.toLowerCase();return e=e.replace(/\s\s+/g," ")}return"undefined"},this.getSdata=function(t){for(var e="",n=0;n<3;n++)(t=t.parentElement).id&&(e+=n+"id~"+t.id),t.className&&(e+=n+"cl~"+t.className),0<n&&e&&(e+=":");return e||"not available"},this.getParentElementId=function(t,e){return(t=0<e?t.parentElement.parentElement:t.parentElement).id?t.id:"na"},this.getParentElementClass=function(t,e){return(t=0<e?t.parentElement.parentElement:t.parentElement).className?t.className:"na"},this.$r=function(t){(t=t||{}).url=t.url||null,t.vars=t.vars||{},t.error=t.error||function(){},t.success=t.success||function(){};var e=[];for(var n in t.vars)e.push(n+"="+t.vars[n]);var o=e.join("&");if(t.url&&(1===t.m||2===t.m)){if(1==t.m)var r=new Image;else if(2===t.m){(r=s.createElement("script")).type="text/javascript",r.async=t.async}r.onerror&&(r.onerror=t.error),r.onload&&(r.onload=t.success),this.cm&&console.log(this.coptOut),this.coptOut?r.src=this.protocol+t.url+"/tc/?co=1&"+o:r.src=this.protocol+t.url+"/tc/?"+o,2===t.m&&s.getElementsByTagName("head")[0].appendChild(r)}}};t.prototype.i=function(t,e,n,o,r,a,i,s,c){try{var l=this;l.cm=e,l.aOptOut=!s,l.coptOut=!c,l.autotracking=i,l.cm&&console.log(l.aOptOut),l.cm&&console.log(l.coptOut),o?"string"==typeof o&&(l.pageName=o):l.pageName=l.pageNameF(),"string"==typeof t&&(l.ttid=t,l.cm&&console.log(l.ttid)),!l.ttid||"string"!=typeof l.ttid||!0!==a&&!1!==a||l.aOptOut?l.cm&&console.log("Malformed parameter settings. "):(l.bust=a,n&&(l.t("hit",r),l.autotagging&&(l.cm&&console.log("Autotagging enabled"),l.ut())))}catch(t){l.cm&&console.log(t)}},t.prototype.t=function(t,e){var n=this;try{if(n.ttid&&"string"==typeof n.ttid&&!n.aOptOut&&n.pageName.length<n.pnMaxLength&&n.referrerE.length<n.referrerMaxLength){if("hit"==t){var o="c",r={t:n.ttid};n.cm&&console.log(e),e&&e.category&&"string"==typeof e.category&&e.text&&"string"==typeof e.text&&(r.a=e.category,r.a1=e.text,e.path&&"string"==typeof e.path&&(r.a2=e.path),e.sdata&&"string"==typeof e.sdata&&(r.a3=e.sdata),e.pid1&&"string"==typeof e.pid1&&(r.d1=e.pid1),e.pid2&&"string"==typeof e.pid2&&(r.d2=e.pid2),e.pcl1&&"string"==typeof e.pcl1&&(r.d3=e.pcl1),e.pcl2&&"string"==typeof e.pcl2&&(r.d4=e.pcl2),o="c2",n.md=1),r.s=o,n.bust&&(r.b=(new Date).getTime()),"string"==typeof n.referrerE&&n.referrerE&&(r.r=n.referrerE),r.p1=n.pageName,n.$r({url:n.serverDomain+n.serverPort,async:!0,m:n.md,vars:r,error:function(){n.cm&&console.log("error in request")},success:function(t){n.cm&&console.log("request successfull")}})}}else n.cm&&console.log("ttid needs to be set")}catch(t){n.cm&&console.log(t)}},t.prototype.ut=function(){var l=this;try{s.addEventListener(l.eType,function(t){var e=t.target;if("A"==e.tagName)if(!l.ttid||"string"!=typeof l.ttid||1!=l.bust&&0!=l.bust||"string"!=typeof l.pageName)l.cm&&console.log("Autotracking invalid parameters tid: "+l.ttid+"  ");else{l.cm&&console.log("Autotracking init");var n=e.href,o="undefined";void 0!==n&&(o=encodeURIComponent(n.replace("http://","").replace("https://","").replace(l.hn,"")));var r=l.readElementText(e),a=l.getParentElementId(e,0),i=l.getParentElementId(e,1),s=l.getParentElementClass(e,0),c=l.getParentElementClass(e,1);l.cm&&(console.log("id2 length "+i.length),console.log("id2 length "+i.length),console.log("cl1 length  "+s.length),console.log("cl2 length  "+c.length)),a.length<l.aMaxLenghtC&&i.length<l.aMaxLenghtC&&s.length<l.aMaxLenghtC&&c.length<l.aMaxLenghtC&&r.length<l.eTextLenght&&(l.cm&&(console.log("Href "+n),console.log("Pathname "+o),console.log("Element text or data attribute: "+r),console.log("Parent 1 id "+a),console.log("Parent 2 id "+i),console.log("Parent 1 class "+s),console.log("Parent 2 class "+c)),l.t("hit",{category:"click",text:r,path:o,pid1:a,pid2:i,pcl1:s,pcl2:c}))}})}catch(t){l.cm&&console.log(t)}},t.prototype.get=function(t){if(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))return decodeURIComponent(t[1])},t.prototype.cc=function(t,e,n,o,r){if(n){var a=new Date;a.setTime(a.getTime()+1e3*n);var i="; expires="+a.toGMTString()}s.cookie=o?t+"="+e+i+";domain="+o+";path=/":t+"="+e+i+";path=/"},t.prototype.rc=function(t){for(var e=t+"=",n=s.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return!1},t.prototype.gcv=function(t){var e=new RegExp(t+"=([^;]+)").exec(s.cookie);return null!=e?unescape(e[1]):null},t.prototype.ec=function(t){createCookie(t,"",-1)};var o,r,e=new t;n.ttlib=(o={},r={},{init:function(t,e){o=t,r=e},pageview:function(){e.i(o[0],o[1],o[2],o[3],o[4],o[5],o[6],r[0],r[1])},fireEvent:function(){}})}(window,document);